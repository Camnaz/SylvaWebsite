(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&s(t)}).observe(document,{childList:!0,subtree:!0});function a(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(o){if(o.ep)return;o.ep=!0;const e=a(o);fetch(o.href,e)}})();document.addEventListener("DOMContentLoaded",()=>{document.documentElement.classList.add("js"),E(),k();const n=document.getElementById("waitlist-form");n&&A(n),q(),H(),P(),x(),L()});function L(){document.readyState==="complete"?b():window.addEventListener("load",b)}function b(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.body.classList.add("loaded")})})}function E(){window.matchMedia("(prefers-reduced-motion: reduce)").matches&&document.documentElement.classList.add("reduced-motion"),S(),T(),M()}function M(){const n=document.querySelector(".hero"),i=document.querySelector(".header");if(!n||!i||window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;let s=!1;function o(){const t=window.scrollY,r=i.offsetHeight,l=window.innerWidth<=768,d=l?30:50,u=l?r*.9:r*.8,c=Math.max(0,Math.min(1,(t-d)/(u-d))),f=1-Math.pow(1-c,3),g=l?30:40,m=l?.01:.02;n.style.opacity=1-f,n.style.transform=`translateY(${-f*g}px) scale(${1-f*m})`,s=!1}function e(){s||(requestAnimationFrame(o),s=!0)}window.addEventListener("scroll",e,{passive:!0})}function S(){const n=document.querySelector("[data-menu-toggle]"),i=document.querySelector("[data-nav-overlay]"),a=document.querySelector(".nav-links"),s=document.querySelectorAll(".nav-link, .nav-cta"),o=document.documentElement;if(!n||!i||!a)return;let e=!1,t=0;function r(){return window.innerWidth-document.documentElement.clientWidth}function l(){e=!e,n.setAttribute("aria-expanded",e),n.classList.toggle("active",e),i.classList.toggle("active",e),a.classList.toggle("active",e),e?(t=r(),document.body.style.setProperty("--scrollbar-width",`${t}px`),o.classList.add("menu-open"),setTimeout(()=>{const c=s[0];c&&c.focus()},50)):(o.classList.remove("menu-open"),setTimeout(()=>{n.focus()},50))}function d(){e&&l()}n.addEventListener("click",c=>{c.preventDefault(),c.stopPropagation(),l()}),i.addEventListener("click",c=>{c.target===i&&d()}),s.forEach(c=>{c.addEventListener("click",d)}),a.addEventListener("keydown",c=>{if(!e)return;const f=c.key==="Tab";if(c.key==="Escape"){c.preventDefault(),d();return}if(!f)return;const m=Array.from(a.querySelectorAll("a[href], button:not([disabled])")),h=m[0],p=m[m.length-1];c.shiftKey?document.activeElement===h&&(c.preventDefault(),p.focus()):document.activeElement===p&&(c.preventDefault(),h.focus())}),document.addEventListener("click",c=>{e&&!a.contains(c.target)&&!n.contains(c.target)&&d()});let u;window.addEventListener("resize",()=>{clearTimeout(u),u=setTimeout(()=>{if(window.innerWidth>768&&e&&d(),e){const c=r();c!==t&&(document.body.style.setProperty("--scrollbar-width",`${c}px`),t=c)}},100)}),window.addEventListener("load",()=>{window.location.hash&&d()})}function T(){document.querySelectorAll('a[href^="#"]').forEach(n=>{n.textContent.trim().toLowerCase().includes("get updates")&&(n.classList.add("nav-updates-btn"),n.addEventListener("click",function(i){this.classList.add("clicked"),setTimeout(()=>this.classList.remove("clicked"),300)})),n.addEventListener("click",function(i){const a=this.getAttribute("href");if(a==="#")return;const s=document.querySelector(a);if(s){i.preventDefault(),this.classList.add("active"),setTimeout(()=>this.classList.remove("active"),1e3);const o=80,t=s.getBoundingClientRect().top+window.pageYOffset-o;window.matchMedia("(prefers-reduced-motion: reduce)").matches?window.scrollTo({top:t,behavior:"auto"}):(window.scrollTo({top:t,behavior:"smooth"}),s.style.transition="box-shadow 0.5s ease",s.style.boxShadow="0 0 0 2px var(--color-primary-light)",setTimeout(()=>{s.style.boxShadow="none",setTimeout(()=>{s.style.transition=""},500)},1e3))}})})}function A(n){n.addEventListener("submit",async function(i){i.preventDefault();const a=new FormData(n),s=this.querySelector('button[type="submit"]'),o=s.innerHTML;s.disabled=!0,s.innerHTML='<i class="fas fa-spinner fa-spin"></i> Sending...';try{if((await fetch(n.action,{method:"POST",body:a,headers:{Accept:"application/json"}})).ok){s.innerHTML='<i class="fas fa-check"></i> Thank You!',s.classList.add("success"),this.reset();const t=document.createElement("div");t.className="form-success",t.innerHTML="Thank you for joining the waitlist! We'll be in touch soon.",this.appendChild(t),setTimeout(()=>{t.remove()},5e3),setTimeout(()=>{s.disabled=!1,s.innerHTML=o,s.classList.remove("success")},3e3)}else throw new Error("Form submission failed")}catch(e){console.error("Form submission error:",e),s.innerHTML='<i class="fas fa-exclamation-circle"></i> Error',s.classList.add("error");const t=document.createElement("div");t.className="form-error",t.innerHTML="Oops! Something went wrong. Please try again or email us directly.",this.appendChild(t),setTimeout(()=>{t.remove(),s.disabled=!1,s.innerHTML=o,s.classList.remove("error")},5e3)}})}function q(){const n=window.matchMedia("(prefers-reduced-motion: reduce)").matches,i={threshold:.1,rootMargin:"0px 0px -50px 0px"},a=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&(r.target.classList.add("animate-in"),a.unobserve(r.target))})},i);[...document.querySelectorAll("[data-animate]"),...document.querySelectorAll(".feature-card, .difference-item, .economy-feature, .pillar")].forEach(t=>{t.classList.add("reveal"),n?t.classList.add("animate-in"):a.observe(t)});const o=document.querySelector(".navbar");if(o){let d=function(){const u=window.pageYOffset,c=l()?20:8;l()&&Math.abs(u-r)>5&&(o.style.transition="padding 0.6s cubic-bezier(0.22, 1, 0.36, 1), background-color 0.5s ease, border-color 0.5s ease"),o.classList.toggle("scrolled",u>c),r=u};var e=d;let t,r=0;const l=()=>window.innerWidth<=768;window.addEventListener("scroll",()=>{t&&cancelAnimationFrame(t),t=requestAnimationFrame(d)},{passive:!0})}}function x(){const n=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";document.querySelectorAll('a[href*="docs"]').forEach(a=>{n?a.href="http://localhost:5173":a.href="https://docs.sylva.oleacomputer.com",a.target="_blank",a.rel="noopener noreferrer"})}function P(){const n=document.querySelectorAll("section[id]"),i=document.querySelectorAll(".nav-link");if(n.length===0||i.length===0)return;function a(){let s="";n.forEach(o=>{const e=o.offsetTop;o.offsetHeight;const t=o.getAttribute("id");window.scrollY>=e-200&&(s=t)}),i.forEach(o=>{o.classList.remove("active"),o.getAttribute("href")===`#${s}`&&o.classList.add("active")})}a(),window.addEventListener("scroll",a)}function k(){const n=document.getElementById("floating-orbs");if(n){for(let i=0;i<8;i++){const a=document.createElement("div");a.className="floating-orb",n.appendChild(a)}O()}}function O(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const i=document.getElementById("what-is"),a=document.querySelectorAll(".floating-orb");if(!i||a.length===0)return;let s=!1;function o(){const t=i.getBoundingClientRect(),r=i.offsetHeight,l=window.innerWidth<=768,d=-t.top,u=d/r;a.forEach((c,f)=>{const g=r*.7+f*(l?60:80),m=l?.6+f*.1:.8+f*.15,h=g-d*m,p=(f%4-1.5)*(l?150:200)+f*(l?20:30),w=Math.sin(u*Math.PI*2+f)*(l?12:20),y=p+w;let v=l?.75:.85;h>r*.8&&(v=Math.max(0,1-(h-r*.8)/(r*.3)),v*=l?.75:.85),h<r*.1&&(v=Math.max(0,h/(r*.1)),v*=l?.75:.85),c.style.transform=`translate(${y}px, ${h}px)`,c.style.opacity=v}),s=!1}function e(){s||(requestAnimationFrame(o),s=!0)}window.addEventListener("scroll",e,{passive:!0}),o()}function H(){window.matchMedia("(prefers-reduced-motion: reduce)").matches||(F(),R(),I())}function I(){const n=document.getElementById("lifecycle-display"),i=document.getElementById("lifecycle-icon"),a=document.getElementById("lifecycle-title"),s=document.getElementById("lifecycle-description"),o=document.querySelectorAll(".lifecycle-indicator");if(!n||!i||!a||!s||o.length===0)return;const e=[{name:"seed",icon:"fas fa-seedling",title:"Seed",description:"30 days, observation only, owner approval required"},{name:"operational",icon:"fas fa-play-circle",title:"Operational",description:"90+ days, accuracy ≥75%, full primitive access"},{name:"vetted",icon:"fas fa-check-circle",title:"Vetted",description:"180+ days, accuracy ≥85%, voting and mentorship"},{name:"prestige",icon:"fas fa-crown",title:"Prestige",description:"365+ days, cross-domain influence, 4x rewards"}];let t=0,r;function l(m,h=!0){const p=e[m];h&&(n.style.opacity="0.5",n.style.transform="scale(0.98)"),setTimeout(()=>{n.setAttribute("data-phase",p.name),i.innerHTML=`<i class="${p.icon}"></i>`,a.textContent=p.title,s.textContent=p.description,o.forEach((w,y)=>{w.classList.toggle("active",y===m)}),h&&setTimeout(()=>{n.style.opacity="1",n.style.transform="scale(1)"},50)},h?400:0)}function d(){t=(t+1)%e.length,l(t)}function u(m){m!==t&&(t=m,l(t),g())}function c(){r=setInterval(d,4e3)}function f(){r&&clearInterval(r)}function g(){f(),c()}o.forEach((m,h)=>{m.addEventListener("click",()=>u(h))}),n.addEventListener("mouseenter",f),n.addEventListener("mouseleave",c),l(0,!1),c()}function F(){const n=document.querySelectorAll(".section");let i=!1;const a=["vision"];function s(){const e=window.innerHeight,t=window.innerWidth<=768;n.forEach(r=>{const l=r.id,d=r.getBoundingClientRect(),u=d.top;d.bottom;const c=d.height;if(a.includes(l)){const f=t?e*.85:e*.8,g=t?e*.4:e*.45,m=t?-c*.6:-c*.65,h=t?-c*.85:-c*.9,p=1-Math.max(0,Math.min(1,(u-g)/(f-g))),w=u<0?Math.max(0,Math.min(1,(u-h)/(m-h))):1,y=Math.min(p,w),v=y*y*y*(y*(y*6-15)+10);v>.02?(r.classList.add("dark-mode"),r.style.setProperty("--dark-opacity",v)):(r.classList.remove("dark-mode"),r.style.removeProperty("--dark-opacity"))}}),i=!1}function o(){i||(requestAnimationFrame(s),i=!0)}window.addEventListener("scroll",o,{passive:!0}),s()}function R(){document.querySelectorAll(".section").forEach(i=>{const a=i.querySelectorAll(".feature-card, .difference-item, .economy-feature, .pillar"),s=i.querySelectorAll(".highlight");a.forEach((e,t)=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="none"});const o=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){const r=t.target,u=Array.from(r.parentElement.querySelectorAll(".feature-card, .difference-item, .economy-feature, .pillar")).indexOf(r)*.1;setTimeout(()=>{r.style.transition="opacity 0.7s cubic-bezier(0.22, 1, 0.36, 1), transform 0.7s cubic-bezier(0.22, 1, 0.36, 1)",r.style.opacity="1",r.style.transform="translateY(0)"},u*1e3),o.unobserve(r)}})},{threshold:.15,rootMargin:"0px 0px -80px 0px"});a.forEach(e=>o.observe(e)),s.forEach(e=>{e.style.transition="color 0.4s ease, background-size 0.6s ease"})})}
